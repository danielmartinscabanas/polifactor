from data import stocks, analysis
from models import linear_models
import pandas as pd

#returns = stocks.get_stocks(['WEGE3.SA', 'ITSA4.SA'], start = '2019-5-2', returns = True)
#print(returns)
returns = pd.DataFrame(
  {'ITSA4.SA': [0.00812059526549569, 0.02301502827247104, 0.01349833036399728, 0.013318552147144835, 0.018619914082525835,
                0.005376307930584412, -0.003208534687862752, 0.012875450079653294, 0.0010593150157012232, 0.004232878037357057,
                0.0010537337284928228, 0.0, -0.004268937923814775, -0.008510601939709317, 0.0,
                -0.0032188446034443485, 0.00968781998680357, -0.00319825490425929, -0.006417135376369787, 0.005382133650521093,
                -0.020342703061826728, 0.0036739546303856674, 0.01528388053000973, 0.011827919830241784],

 'WEGE3.SA': [-0.00916132238272338, 0.02453764602120101, 0.0006942193035204269, 0.031217468640720725, -0.0050453959246509195,
              0.03718730170070628, -0.01792702538912272, 0.02555594023269392, -0.01812296028659366, 0.00823994722289667,
              -0.005230462458777563, 0.013473540693405006, -0.032101159734757356, -0.030150740603975823, -0.005181399721098878,
              -0.0003471639513218383, 0.005557479761169937, -0.004835968680743319, -0.015272427451070492, 0.0007049189222223529,
              -0.0035223133593146327, 0.003181274030636727, 0.06448202881682619, 0.02284013753619285]})

factors = pd.DataFrame({'PETR4.SA': [0.00059116042756302, 0.01063515452362207, 0.019292557827759182, 0.050473245453112714, 0.016379994017199806,
                                     -0.003223165012144258, -0.023174337573774295, 0.07425982486870586, 0.0003153651583274186, 0.009142465777312259,
                                     0.02343017929793123, 0.020146516520981983, -0.050568483521922336, 0.0214308324924688, 0.031780277202905216,
                                     0.005980884304813028, -0.010701564116625373, 0.010817326428975482, 0.02497027847290534, -0.05945473504282961,
                                     0.02466849304755847, 0.018657807415757732, -0.012703111508395648, -0.0026928887738315588],
                        'VALE3.SA': [-0.03886119830538426, -0.005776106994569097, 0.012959928265448895, 0.008529450951703543, 0.020705770845339533,
                                      0.0007143245282603683, 0.03483222950394871, 0.012798657576213568, -0.021489970407131964, 0.022254708274530355,
                                      -0.02277279210599159, -0.007474748807536735, -0.011222712972989823, -0.014635539739221937, 0.0641102684499113,
                                      -0.03218917769121976, 0.01942604494639877, -0.015013618255125372, -0.019346323169865065, -0.028994206175852577,
                                      -0.007234126702668986, -0.009457373803900215, -0.015182363906240504, 0.036554404302144405],
                        '^BVSP': [0.003995665718542707, 0.02039990363767763, 0.005477278736826241, 0.018126831467428106, 0.0022970055903026587,
                                  0.01458799274742062, -0.004699009398018816, 0.02776208097121713, 0.002376645028555169, 0.004246585037865458,
                                  0.0017266896891958705, 0.0009234178773700474, -0.020357955593824917, -0.008924086962761035, 0.021321074017429664,
                                  0.0003632915991031993, 0.005615688497581983, -0.010860374167635523, 0.00021371517110568838, -0.01684427944410316,
                                  -0.00822232887504415, 0.008053103001196105, 0.004157420406684542, 0.012077861163227066]})

# Analisando os retornos entre si
r = analysis.Analyzer(returns)
r.complete()

# Analisando os fatores entre si
f = analysis.Analyzer(factors)
f.complete()

# Agora vamos mexer com os modelos lineares
lm = linear_models.linearModel(returns, factors)

# Encontrando os coeficientes
coeficientes = lm.coefs()
print('Os coeficientes s√£o:', coeficientes)